# Lefthook configuration
# https://github.com/evilmartians/lefthook
#
# This configuration is LOCAL TO THIS REPOSITORY ONLY.
# Hooks are installed in .git/hooks/ and only affect this repo.
#
# To install hooks: lefthook install
# To uninstall: lefthook uninstall
#
# For personal customizations not shared with the team,
# create lefthook-local.yml and add it to .gitignore

pre-commit:
  commands:
    spotless-apply:
      run: ./gradlew spotlessApply --quiet
      stage_fixed: true  # Re-stage files after formatting
    test:
      run: ./gradlew test --quiet
      glob: "*.{java,gradle,properties}"
    build:
      run: ./gradlew build -x test --quiet
      glob: "*.{java,gradle,properties}"

pre-push:
  commands:
    spotless-check:
      run: ./gradlew spotlessCheck --quiet
