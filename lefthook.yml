# Lefthook configuration
# https://github.com/evilmartians/lefthook

pre-commit:
  commands:
    spotless-apply:
      run: ./gradlew spotlessApply --quiet
      stage_fixed: true  # Re-stage files after formatting
    test:
      run: ./gradlew test --quiet
      glob: "*.{java,gradle,properties}"
    build:
      run: ./gradlew build -x test --quiet
      glob: "*.{java,gradle,properties}"

pre-push:
  commands:
    spotless-check:
      run: ./gradlew spotlessCheck --quiet
